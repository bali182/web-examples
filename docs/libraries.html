<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>libraries</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="css/reveal.css">
  <link rel="stylesheet" href="css/theme/league.css" id="theme">
  <link rel="stylesheet" href="css/overrides.css">
  <link rel="stylesheet" href="lib/css/obsidian-accent.css">
</head>

<body>

  <div class="reveal">
    <div class="slides">
      <section>
        <h1>javascript</h1>
        <h3>III. <span class="accent">&bull;</span> libraries</h3>
      </section>
      <section>
        <h2>What do we need?</h2>
        <ul>
          <li class="fragment">Text-editor / IDE</li>
          <li class="fragment">Environment</li>
          <li class="fragment">Transpiler</li>
          <li class="fragment">Build system</li>
          <li class="fragment">Dependency management</li>
          <li class="fragment">Frontend framework</li>
        </ul>
      </section>
      <section>
        <h2>Editor</h2>
        <a href="https://code.visualstudio.com/">
          <img class="img-reset img-link" width="250" src="img/vscodelogo.png" />
        </a>
        <br />
        <h3>Visual Studio Code</h3>
        <p>NOT the regular Visual Studio</p>
      </section>
      <section>
        <h2>Environment</h2>
        <a href="https://nodejs.org/">
          <img class="img-reset img-link" width="400" src="img/nodelogo-inverse.png" />
        </a>
        <br />
        <a href="https://www.npmjs.com/">
          <img class="img-reset img-link" width="230" src="img/npmlogo.png" />
        </a>
      </section>
      <section>
        <h2>NPM</h2>
        <pre style="width: 40%; display: block; margin: 0 auto !important;">
          <code class="hljs json" data-trim >
{
  "name": "my-first-package",
  "version": "0.0.1",
  "license": "MIT", 
  "dependencies": {
    "rx": "4.0.7",
    "request": "^2.67.0", 
    "moment": "*"
  },
  "devDependencies": {
    "babel": "6.1.18",
    "gulp": "3.9.0"
  }
}
          </code>
        </pre>
      </section>
      <section>
        <h2>Module system</h2>
        <pre style="width: 50%; display: block; margin: 0 auto !important;">
          <code class="hljs js" data-trim >
> cd my-first-package
> npm install            
 
const moment = require("moment");
const other = require("./path/to/other.js");

const day = moment("1995-12-25");
module.exports = other(day);
          </code>
        </pre>
      </section>
      <section>
        <h2>Transpiler (ES6)</h2>
        <a href="http://babeljs.io/">
          <img src="img/babellogo-inverse.png" class="img-reset img-link" width="400px" />
        </a>
      </section>
      <section>
        <h2>Babel</h2>
        <pre style="width: 60%; display: block; margin: 0 auto !important;">
          <code class="hljs bash" data-trim >
> npm install babel-cli -g

# compile a single file
> babel script.js --out-file script-compiled.js

# compile a whole directory
> babel src --out-dir dist

# compile a whole directory into a single file
> babel src --out-file script-compiled.js
          </code>
        </pre>
      </section>
      <section>
        <h2>Build System</h2>
        <a href="http://gulpjs.com/">
          <img src="img/gulplogo.png" class="img-reset img-link" width="150" />
        </a>
      </section>
      <section>
        <h2>Gulp</h2>
        <code class="hljs js" style="text-align: center; font-size: 20px">gulpfile.js</code>
        <pre style="width: 60%; display: block; margin: 0 auto !important;">
          <code class="hljs js" data-trim >
const gulp = require('gulp');
const babel = require('gulp-babel');
const uglify = require('gulp-uglify');

gulp.task('build-js', [], () => gulp.src('src')
  .pipe(babel())
  .pipe(uglify())
  .pipe(gulp.dest('dist')
);

gulp.task('default', ['build-js']);
          </code>
          <code class="hljs bash" data-trim >
> gulp # runs the default task
> gulp build-js # runs the build-js task
          </code>
        </pre>
      </section>
      <section>
        <h2>Dependency management</h2>
        <h3>SystemJS + JSPM</h3>
      </section>
      <section>
        <h3>Remember this?</h3>
        <pre style="width: 60%; display: block; margin: 0 auto !important;">
          <code class="hljs js" data-trim >
import Something from 'some-module';

// ...

export default function() {
  Something.doSomethingRly();
}
          </code>
        </pre>
      </section>

      <section>
        <h3>The System object</h3>
        <pre style="width: 60%; display: block; margin: 0 auto !important;">
          <code class="hljs js" data-trim >
class Loader {
  normalize(pathName) { /* ... */ }
  locate(load) { /* ... */ }
  fetch(load) { /* ... */ }
  translate(load) { /* ... */ }
  instantiate(load) { /* ... */ }
  
  import(pathName) { /* ... */ }
  
  register(
    moduleName,
    dependencies, 
    factory
  ) { /* ... */ }
};

let System = new Loader();
          </code>
        </pre>
      </section>
      <section>
        <h3>Example</h3>
        <pre style="width: 80%; display: block; margin: 0 auto !important;">
          <code class="hljs js" data-trim>
System.register('my-module', ['some-module'], function (exporter) {
  var someModule;
  return {
    setters: [function (someModuleDep) {
      someModule = someModuleDep['default'];
    }],
    execute: function () {
      exporter('default', function() {
        Something.doSomethingRly();
      });
    }
  };
});
          </code>
        </pre>
      </section>
    </div>
  </div>

  <script src="lib/js/head.min.js"></script>
  <script src="js/reveal.js"></script>

  <script>
    Reveal.initialize({
      controls: true,
      progress: true,
      history: true,
      center: true,
      transition: 'concave', // none/fade/slide/convex/concave/zoom
      dependencies: [
        { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
        { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
        { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
        { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
        { src: 'plugin/zoom-js/zoom.js', async: true },
        { src: 'plugin/notes/notes.js', async: true }
      ]
    });
    Reveal.configure({
      keyboard: {
        39: function () {
          if (Reveal.isLastSlide()) {
            window.location = 'index.html';
          } else {
            Reveal.right();
          }
        },
        37: function () {
          if (Reveal.isFirstSlide()) {
            window.location = 'index.html';
          } else {
            Reveal.left();
          }
        }
      }
    });
  </script>

</body>

</html>